<!DOCTYPE html>
<html lang="" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Managed Cloud WAF | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main"></button>
  </div>

  <div class="nav-container">

    <a class="logo" href="/guides/v2.1/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.1">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.1
    </button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/cloud/cdn/fastly-waf-service.html">Magento 2.0</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/cloud/cdn/fastly-waf-service.html">Magento 2.1</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/cloud/cdn/fastly-waf-service.html">Magento 2.2</a></li>
		
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/cloud/cdn/fastly-waf-service.html">Magento 2.3</a></li>
		
  </ul>
</div>


      <!-- Main Navigation -->


<ul class="nav-main" role="menubar">




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/bk-cloud.html">Cloud Guide</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/architecture/cloud-architecture.html">Cloud Architecture</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/setup/first-time-setup.html">Local Development</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/docker/docker-quick-reference.html">Docker quick reference</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/environments.html">Configure Environments</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/release-notes/cloud-tools.html">Release Notes</a>
  
  
</li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a>
  
  
</li>



          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a>
  
  
</li>



          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/bk-cloud.html">Magento Commerce (Cloud) Guide</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/release-notes/bk-release-notes.html">Release Information</a>
  
  
</li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span>

    
      <div class="nav-popup">

      

      
        
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul>
              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/architecture/bk-architecture.html">Architecture</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/mrg/intro.html">Module Reference Guide</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a>
  
  
</li>



              
              </ul>
            </div>
          
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul>
              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a>
  
  
</li>



              
                







              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a>
  
  
</li>



              
                







              
              </ul>
            </div>
          
        
          
          
            <div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul>
              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/rest/bk-rest.html">REST API Reference</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/soap/bk-soap.html">SOAP API Reference</a>
  
  
</li>



              
                







              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/marketplace/eqp/api.html">Marketplace EQP API Reference</a>
  
  
</li>



              
                





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://developers.rjmetrics.com/">Magento BI Import REST API</a>
  
  
</li>



              
              </ul>
            </div>
          
        
      
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/test/testing.html">Magento Testing Guide</a>
  
  
</li>



          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/test/js/jasmine.html">JavaScript Unit Testing</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a>
  
  
</li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-separator"></li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">Checkout</a>
  
  
</li>



          
        
          
          
            





          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="http://omsdocs.magento.com/en/">Order Management</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/payments-integrations/bk-payments-integrations.html">Payment Integrations</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/extension-dev-guide/staging.html">Staging</a>
  
  
</li>



          
        
      </ul>
      

      </div>
    

  </li>
  




  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span>

    
      <div class="nav-popup">

      

      
        <ul>
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/rest/tutorials/index.html">Rest Tutorials</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/howdoi/customize_product.html">Customize Product Creation Form</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">Customize Checkout</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/community/resources/support.html">Magento Support</a>
  
  
</li>



          
        
          
          
            





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/videos/">Video Tutorials</a>
  
  
</li>



          
        
      </ul>
      

      </div>
    

  </li>
  



</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <button class="search-trigger search-icon" aria-label="Search"></button>
    </div>

    <form class="quick-search" action="/guides/v2.1/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <button class="quick-search-close" aria-label="Close Search">&times;</button>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		


		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">Table of Contents</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Magento Commerce Cloud</h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/bk-cloud.html">Overview</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/onboarding/onboarding-tasks.html">Onboarding tasks</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/architecture/cloud-architecture.html">Architecture</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/basic-information/starter-architecture.html">Starter architecture</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/basic-information/starter-develop-deploy-workflow.html">Starter develop and deploy workflow</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/architecture/pro-architecture.html">Pro architecture</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/architecture/pro-develop-deploy-workflow.html">Pro develop and deploy workflow</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/architecture/pro-architecture-legacy.html">Pro architecture (legacy)</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/pro-env-management.html">Add Staging and Production to Pro projects UI</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/requirements/cloud-requirements.html">Technologies and requirements</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/reference/cloud-composer.html">Composer</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/reference/cli-ref-topic.html">Magento Cloud CLI</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/reference/git-integration.html">Git</a>
  
  
</li>



    
      







    
      







    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/environments-ssh.html">SSH and sFTP</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/new-relic.html">New Relic APM</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-integrate-blackfire.html">Blackfire.io</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/sendgrid.html">SendGrid</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/setup/first-time-setup.html">Local development setup</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/docker/docker-development.html">Docker development</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/docker/docker-config.html">Launch Docker</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/docker/docker-quick-reference.html">Docker quick reference</a>
  
  
</li>



    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/before/before-workspace.html">Prepare for manual setup</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/before/before-workspace-magento-prereqs.html">Install Magento prerequisites</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/before/before-workspace-ssh.html">Enable SSH keys</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/before/before-workspace-file-sys-owner.html">Set up the Magento file system owner</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/before/before-setup-env-2_clone.html">Clone and branch the project</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/before/before-setup-env-install.html">Install Magento</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/setup/first-time-deploy.html">First time deployment</a>
  
  
</li>



    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/howtos/sample-data.html">Optional - Install sample data</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/howtos/debug.html">Optional - Configure Xdebug</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/integrations/cloud-integrations.html">Integrations</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/integrations/bitbucket-integration.html">Bitbucket integration</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/integrations/github-integration.html">GitHub integration</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/integrations/health-notifications.html">Health notifications</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/setup/first-time-setup-import-first-steps.html">Import existing code into a project</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/setup/first-time-setup-import-prepare.html">Prepare your existing Magento Commerce system</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/setup/first-time-setup-import-import.html">Import Magento Commerce code</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/configure/configuration-overview.html">Configure your store</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/configure/configure-best-practices.html">Best practices for store configuration</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/paypal-onboarding.html">Set up PayPal</a>
  
  
</li>



    
      







    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/configure/setup-cron-jobs.html">Set up cron jobs</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-multi-sites.html">Set up multiple Cloud websites or stores</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/howtos/install-components.html">Install, manage, and upgrade modules</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/howtos/custom-theme.html">Install a theme</a>
  
  
</li>



    
      







    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/cloud-fastly.html">Configure Fastly services</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/configure-fastly.html">Set up Fastly</a>
  
  
</li>



    
      





  
  
  

  
  
<li class="active " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/fastly-waf-service.html">Managed Cloud WAF</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/fastly-image-optimization.html">Image Optimization</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/cloud-vcl-custom-snippets.html">Custom Fastly VCL snippets</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/fastly-vcl-whitelist.html">Custom whitelist VCL</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/fastly-vcl-blacklist.html">Custom blacklist VCL</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/fastly-vcl-wordpress.html">Custom redirect to WordPress VCL</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/fastly-vcl-badreferer.html">Custom block bad referer VCL</a>
  
  
</li>



    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/cdn/trouble-fastly.html">Fastly troubleshooting</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/environments.html">Configure environments</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-conf-files_magento-app.html">Application</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/magento-env-yaml.html">Build and deploy</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/setup-notifications.html">Set up notifications</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/log-handlers.html">Logging handlers</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/smart-wizards.html">Smart wizards</a>
  
  
</li>



    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/variables-intro.html">Environment variables</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/environment-vars_magento.html">ADMIN variables</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/variables-global.html">Global variables</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/variables-build.html">Build variables</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/variables-cloud.html">Cloud variables</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/variables-deploy.html">Deploy variables</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/variables-post-deploy.html">Post-deploy variables</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/working-with-variables.html">Working with variables</a>
  
  
</li>



    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-conf-files_routes.html">Routes</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-routes-more-cache.html">Caching</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-routes-more-redir.html">Redirects</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-routes-more-ssi.html">Server side includes</a>
  
  
</li>



    
  </ul>
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-conf-files_services.html">Services</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-conf-files_services-mysql.html">Set up MySQL service</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-conf-files_services-redis.html">Set up Redis service</a>
  
  
</li>



    
      







    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-conf-files_services-elastic.html">Set up Elasticsearch service</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-conf-files_services-rabbit.html">Set up RabbitMQ service</a>
  
  
</li>



    
  </ul>
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/sens-data-over.html">Configuration management for store settings</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/sens-data-initial.html">Example of managing system-specific settings</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/projects.html">Manage your project</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-webint-basic.html">Configure your project</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-start.html">Project structure</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/user-admin.html">Create and manage users</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-webint-branch.html">Manage branches with the Interface</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/env/environments-start.html">Manage branches with the CLI</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-webint-snap.html">Snapshots and backup management</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/stage-prod-live.html">Deploy your store</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/reference/discover-deploy.html">Deployment process</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/deploy/continuous-deployment.html">Continuous deployment</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/live-prot.html">Protective block</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/live-sanity-check.html">Build and deploy on local</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/stage-prod-migrate-prereq.html">Prepare to deploy to Staging and Production</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/stage-prod-migrate.html">Deploy code and migrate static files and data</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/stage-prod-test.html">Test deployment</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/live.html">Go live and launch</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/go-live-checklist.html">Go live checklist</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/live/launch-steps.html">Launch steps</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/trouble.html">Troubleshooting</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/troubleshoot-deployment.html">Troubleshoot deployment</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/environments-logs.html">View logs for troubleshooting</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/redis-troubleshooting.html">Redis troubleshooting</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/reset-cron-jobs.html">Reset cron jobs</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/trouble-crypt-key-variable.html">Resolve issues with encryption key</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/trouble-error-html-minification.html">Resolve issues with HTML minification</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/trouble-google-analytics-deploy.html">Resolve issues with Google Analytics during deployment</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/restore-configuration-files.html">Restore configuration files</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/site-availability.html">Site availability</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/robots-sitemap.html">Add site map and search engine robots</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/theme-troubleshooting.html">Theme troubleshooting</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/trouble/message-queues.html">Message queues</a>
  
  
</li>



    
  </ul>
  
</li>



		    
		    	





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-upgrade-parent.html">Upgrades and patches</a>
  
  
  <ul>
    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/release-notes/cloud-tools.html">Release notes for ece-tools</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/ece-tools-upgrade-project.html">Upgrade to use ece-tools</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/ece-tools-update.html">Update ece-tools version</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-patch.html">Apply custom patches</a>
  
  
</li>



    
      





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/cloud/project/project-upgrade.html">Upgrade Magento version</a>
  
  
</li>



    
      







    
  </ul>
  
</li>



		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

	

	<h1 class="page-heading">Managed Cloud WAF</h1>
</section>

			<p>Powered by Fastly, the Managed Cloud WAF is a web application firewall service that detects, logs, and blocks malicious request traffic before it can damage your sites or network. This service is included with your Magento Commerce Cloud subscription to protect production environments at no additional cost. It is not available for staging environments.</p>

<p>As a managed service, the Magento WAF provides the following benefits:</p>
<ul>
  <li><strong>PCI compliance</strong>—WAF enablement ensures that Magento Commerce storefronts in production environments meet PCI DSS 6.6 security requirements.</li>
  <li><strong>Default WAF policy</strong>—The default WAF policy, configured and maintained by Fastly, provides a collection of security rules tailored to protect your Magento Commerce web applications from a wide range of attacks, including the <a href="https://www.owasp.org/index.php/Top_Ten">OWASP Top Ten</a>.</li>
  <li><strong>WAF onboarding and enablement</strong>—Magento works with you to plan and schedule the WAF rollout to deploy the WAF, tune the default WAF policy in your environment, and enable the service.</li>
  <li><strong>Operations support</strong>—
    <ul>
      <li>Magento and Fastly set up and manage your WAF logs and alerts.</li>
      <li>Customer support tickets related to WAF issues that block legitimate traffic are triaged as Priority 1 issues.</li>
    </ul>
  </li>
</ul>

<p>The Magento WAF service is integrated into Fastly’s global nodes and runs as a part of the cache logic within the Fastly CDN service. Magento enables the WAF in your production environment with a default WAF policy based on <a href="https://www.trustwave.com/Products/Application-Security/ModSecurity-Rules-and-Support/">ModSecurity Rules from Trustwave SpiderLabs</a> and the OWASP Top Ten security threats.</p>

<p>Once deployed, the WAF monitors web and admin traffic to identify any suspicious activity. It filters HTTP and HTTPS traffic (GET and POST requests) against the WAF ruleset and blocks traffic that is malicious or does not comply with specific rules. It can block SQL injection attacks, cross-site scripting attacks, and more.</p>

<h3 id="enabling-the-waf">Enabling the WAF</h3>

<p>Fastly implements the managed web application firewall for Magento Commerce Cloud using the Fastly CDN service. You do not have to install or maintain any hardware or software. Before you can use the WAF, you must set up your Fastly service and configure Origin shielding so that 
all external traffic routes through the Fastly service. See <a href="/guides/v2.1/cloud/cdn/configure-fastly.html">Set up Fastly</a>.</p>

<p>For new Magento Commerce Cloud accounts, your Magento technical account manager works with you during the onboarding and launch process to plan and schedule WAF enablement. For existing Magento Commerce Cloud projects, contact your account manager or CSM for help enabling the WAF. See <a href="https://support.magento.com/hc/en-us/articles/360016353452--Web-Application-Firewall-WAF-powered-by-Fastly-the-FAQ">Managed Cloud WAF FAQ</a>.</p>

<h3 id="troubleshooting-blocked-requests">Troubleshooting blocked requests</h3>

<p>When the Managed Cloud WAF is enabled, it filters all web and admin traffic against the WAF rules and WAF blocks any web request that triggers a WAF rule. When a request is blocked, the requestor sees a default <code class="highlighter-rouge">403 Forbidden</code> error page that includes a reference ID for the blocking event.</p>

<p><img width="550px" src="/common/images/cloud/cloud-fastly-waf-403-error.png" alt="WAF error response page" /></p>

<p>You can customize this error response page from the Magento Admin UI. See <a href="/guides/v2.1/cloud/cdn/configure-fastly.html#fastly-errpg">Create a custom error response page</a>.</p>

<p>If your Magento Commerce admin page or storefront returns a <code class="highlighter-rouge">403 Forbidden</code> error page in response to a legitimate URL request, submit a <a href="https://support.magento.com/hc/en-us/articles/360000913794#submit-ticket">Magento support ticket</a>. Copy the reference ID from the error response page and paste it into the ticket description.</p>

<h3 id="waf-maintenance-and-updates">WAF maintenance and updates</h3>

<p>Fastly maintains and updates the WAF ruleset based on rule updates from commercial third parties, Fastly research, and open sources. Fastly updates the published rules into a policy as needed, or when changes to the rules are available from their respective sources. Also, Fastly can add new rules that match the published classes of rules into the WAF instance of any service after the WAF is enabled. These updates ensure immediate coverage for new or evolving exploits.</p>

<p>Magento and Fastly manage the update process to ensure that new or modified WAF rules work effectively in your production environment before the updates are deployed in blocking mode. See <a href="https://docs.fastly.com/guides/web-application-firewall/fastly-waf-rule-set-updates-maintenance">Fastly WAF rule set update and maintenance</a>.</p>

<h3 id="limitations">Limitations</h3>

<p>The standard Magento Cloud WAF powered by Fastly does not support the following features:</p>

<ul>
  <li>Filtering for TCP, UDP, or ICMP requests</li>
  <li>Protection against malware or bot mitigation</li>
  <li>Rate limiting or virtual patching</li>
  <li>Configuring a logging endpoint for customer</li>
</ul>

<p>You can add blacklist and whitelist filtering for IP addresses by uploading custom VCL snippets to the Fastly CDN service. See <a href="/guides/v2.1/cloud/cdn/cloud-vcl-custom-snippets.html">Custom VCL snippets</a>.</p>


			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  


  

    
    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/master/guides/v2.1/cloud/cdn/fastly-waf-service.md" target="_blank">
        Edit this page on GitHub
      </a>
    </div>
    

    
    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.1/cloud/cdn/fastly-waf-service.html" target="_blank">
        Give us feedback
      </a>
    </div>
    

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links">

  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://magento.github.io/glossary/index.html?audience=developer">Glossary</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://magento.com/legal/terms/">Terms of Service</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/guides/v2.1/release-notes/bk-release-notes.html">Release Notes</a>
  
  
</li>




  





  
  
  

  
  
<li class=" " role="menuitem">
  
  <a href="/magento-third-party.html">Third-Party Licenses</a>
  
  
</li>




</ul>

    </div>

		<div class="copyright-date">&copy; 2021 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>






</body>
</html>

